---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Miha Brešar"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding = "UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```

# Izbira teme

V projektu bom analiziral nabore v ligi NBA med letoma 2007 in 2012. Igralci izbrani na teh naborih so namreč sedaj v najboljših letih. Zato jih lahko dobro analiziramo. Analiziral bom uspešnost ekip in igralcev. Igralce bom ocenjeval na podlagi statistike in dobrinosa ekipi. Ekipe pa na podlagi uspešnosti igralcev ki so jih izbrale na naborih. S to analizo želim ugotoviti, katere ekipe so najboljše pri izbiranju mladih igralcev. Analiziral bom tudi evropske države in uspeh evropskih igralcev v ligi NBA. Za konec želim na podlagi rezultatov preteklih let napovedati uspeh igralcev, ki bodo letos začeli kariero. 

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE}
source("uvoz/uvoz.r", encoding = "UTF-8")
```

Uvozili smo podatke o igralcih v CSV in HTML obliki. Podatke v CSV obliki sem pridobil na strani: https://www.basketball-reference.com/draft/

Podatki v HTML obliki pa na wikipediji:

https://en.wikipedia.org/wiki/2007_NBA_draft

Obe tabeli sem nato združil v eno veliko tabelo Skupni_podatki


1. `Skupni-podatki` - podatki o družinah za vsako občino
  - `Izbor` - spremenljivka: (1-60) na vsakem naboru
  - `Runda` - spremenljivka: Runda v kateri je bil izbran (1 ali 2)
  - `Ekipa` - spremenljivka: Ekipa, ki ga je izbrala na naboru
  - `Igralec` - spremenljivka: Ime
  - `Pozicija` - spremenljivka: Pozicija na kateri igralec igra
  - `5-21` - meritev: Statistični podatki o učinku igralcev. Uporabni predvsem v četrti fazi
  - `Državljanstvo` - spremenljivka: Državljanstvo igralca
  - `Leto` - spremenljivka: Leto nabora, na katerem je bil igralec izbran



***

# Analiza in vizualizacija podatkov

V tretji fazi sem želel čim lepše prikazati uspešnost ekip, draž in igralcev. Začel sem z 'normiranjem igralcev na izbor'. To sem naredil tako, da sem seštel absolutne vrednosti 'win-shares' za vsak izbor. Tako sem dobil absolutno in relativno uspešnost igralcev. Absolutna: Koliko zmag je prinesel igralec ekipi. Relativna: Uspešnost/(vsota absolutnih vrednosti za nabor). Relativna uspešnost je smiselno uporabiti predvsem pri ocenjevanju ekip, saj imajo nekatere ekipe višje izbore kot druge. Pri ocenjevanju Držav sem se osredotočil na absolutno uspešnost in na število igralcev, ki so bili izbrani na naborih. 

```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE}
source("vizualizacija/vizualizacija.r", encoding = "UTF-8")
```
Najprej si oglejmo tabelo najboljših igralcev. Hitro opazimo velike razlike med igralci, kar je dober znak za začetek analize. V ligi NBA namreč velja, da lahko en dober igralec reši celotno ekipo. 

```{r razpredelnice}
kable(head(najboljsi_igralci), caption = "Najboljši igralci v ligi NBA")
```




```{r graf, echo=FALSE, fig.align='center', fig.cap='Povezava med številom naselij in površino občine'}
Graf_evropskih
```


***

# Napredna analiza podatkov

